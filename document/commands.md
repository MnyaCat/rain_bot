# Rain Bot Commands

Rain Botのコマンド一覧。

## 全サーバー

以下のコマンドは、全てのサーバーで実行できます。

### diceroll(未実装)

`1d10`などのダイスを振るコマンドです。

#### オプション

- dice*: ダイスを振る回数、ダイスの面を`\d+[0-9]\d+`の構文(例: `1d6`, `2d10`)で指定します。

### grouping

ボイスチャンネルに参加しているメンバーを、ランダムなグループに分けるコマンドです。
グループ分けを行う際、各グループのメンバー数が等しくなるように調整します。(6人のメンバーをグループサイズ4で分けた場合、グループ1、2共にメンバーは3人になります)

#### オプション

- groupsize: 1つのグループあたりの最大メンバー数を`2`以上の数値で指定します。デフォルトの値は`4`です。
- exclude: 対象にしないメンバー。複数人を指定できます。メンションを空白で区切って指定してください。

### random rule(未実装)

ランダムなルールを返します。

### random stage(未実装)

ランダムなステージを返します。

### random weapon

ボイスチャンネルに参加しているメンバーそれぞれ、もしくは1つのランダムなブキを支給します。
オプションでフィルターをつけた場合、条件に合うブキがない場合はエラーが発生します。
また、再ロールボタンを押すことで同じ条件でもう一度支給できます。

#### オプション

- sub: ブキをサブウェポンで絞り込みます。
- special: ブキをスペシャルウェポンで絞り込みます。
- season: ブキを実装されたシーズンで絞り込みます。
- weapontype: ブキタイプのフィルター。指定したタイプのブキのみ支給されます。
- single: 1つのみ支給するか。

### random weapontype(未実装)

ボイスチャンネルに参加しているメンバーそれぞれ、もしくは1つのランダムなブキタイプを支給します。

- single: 1つのみ支給するか。

### random subweapon

ボイスチャンネルに参加しているメンバーそれぞれ、もしくは1つのランダムなサブウェポンを支給します。

#### オプション

- single: 1つのみ支給するか。

### random specialweapon

ボイスチャンネルに参加しているメンバーそれぞれ、もしくは1つのランダムなスペシャルウェポンを支給します。

#### オプション

- single: 1つのみ支給します。

## Minecraft Amethyst Server管理コマンド

以下のコマンドは、一部のサーバーでのみ実行できます。
また、Adminとして指定されたユーザーのみ実行できます。
対象サーバー: むにゃ鯖

### setChatForwardChannel(未実装)

実行したチャンネルを、Amethyst Serverのゲーム内チャットの自動転送先に設定します。
テキストチャンネルのみで実行できます。

### setMinecraftAdminRole(未実装)

指定したユーザーを、Minecraft Amethyst ServerのAdminにします。
指定したユーザーがXBXゲーマータグと紐づいている必要があります。

#### オプション

- user: Discordのユーザーオブジェクト。

### link(未実装)

Minecraft Amethyst Serverの許可リスト登録されているXBOXゲーマータグと、Discordのアカウントを紐づけます。
許可リストに登録されていていない場合は失敗します。

#### オプション

- name*: 許可リストに登録されていているXBOXゲーマータグ。
- user*: Discordのユーザーオブジェクト。

### kick(未実装)

指定したプレイヤーをMinecraft Amethyst Serverからキックします。

- name*: 操作対象のプレイヤーのXBOXゲーマータグ、もしくはDiscordユーザーオブジェクト(Discordユーザーオブジェクトの場合は、XBOXユーザータグが紐付けられている必要があります)。
- reason: キックした理由。キックされたプレイヤーの画面に表示されます。

### stop(未実装)

Minecraft Amethyst Serverを停止させます。

### allowlist(未実装)

Minecraft Amethyst Serverの許可リストの管理を行うコマンドです。

`on`, `off`で許可リストのオン・オフを切り替えます(この操作は`server.properties`に反映されません)。
`list`で許可リストに追加されているプレイヤーを出力します。
`reload`で許可リストを再読み込みします。
`add`, `remove`でプレイヤーの追加、削除します(この操作を実行した後に、自動で`reload`が実行されます)。

#### オプション

- action* (`[on|off|list|reload|add|remove]`): 実行する操作を指定します。
- name*: 操作対象のプレイヤーのXBOXゲーマータグ。`add|remove`を実行する際に必須のオプションです。
- user: nameに指定したXBOXゲーマータグと紐づけるDiscordユーザーオブジェクト。

### op(未実装)

指定したプレイヤーを、Minecraft Amethyst Server内でOPに昇格させます。

#### オプション

- name: 操作対象のプレイヤーのXBOXゲーマータグ、もしくはDiscordユーザーオブジェクト(Discordユーザーオブジェクトの場合は、XBOXユーザータグが紐付けられている必要があります)。

### deop(未実装)

指定したプレイヤーを、Minecraft Amethyst Server内でOPから降格させます。
OPではない場合は失敗します。

#### オプション

- name: 操作対象のプレイヤーのXBOXゲーマータグ、もしくはDiscordユーザーオブジェクト(Discordユーザーオブジェクトの場合は、XBOXユーザータグが紐付けられている必要があります)。

### save(未実装)

Minecraft Amethyst Serverのバックアップを保存します。

## 例外

コマンドを実行した際に発生する例外。

- 引数エラー: 引数が不足している場合に発生します。
- 構文エラー: 引数が求める構文に一致しない場合に発生します。(例: `\d+[dD]\d+`に対して`1dice10`を入力する)
- サーバーエラー: Minecraft Serverからの応答がない場合に発生します。
